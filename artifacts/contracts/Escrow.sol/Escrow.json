{
  "_format": "hh-sol-artifact-1",
  "contractName": "Escrow",
  "sourceName": "contracts/Escrow.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "escrowId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "opportunityId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "escrowId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "FundsRefunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "escrowId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "FundsReleased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newFee",
          "type": "uint256"
        }
      ],
      "name": "PlatformFeeUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "BASIS_POINTS",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "opportunityId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        }
      ],
      "name": "createEscrow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "escrows",
      "outputs": [
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "released",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "refunded",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "opportunityId",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getContractBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "escrowId",
          "type": "uint256"
        }
      ],
      "name": "getEscrow",
      "outputs": [
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "released",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "refunded",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "opportunityId",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getEscrowCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextEscrowId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "platformFee",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "escrowId",
          "type": "uint256"
        }
      ],
      "name": "refundBuyer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "escrowId",
          "type": "uint256"
        }
      ],
      "name": "releaseFunds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "newFee",
          "type": "uint256"
        }
      ],
      "name": "setPlatformFee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawPlatformFees",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040526001805560fa60035534801561001957600080fd5b50600280546001600160a01b03191633179055610d378061003b6000396000f3fe6080604052600436106100c25760003560e01c80636f9fb98a1161007f5780638da5cb5b116100595780638da5cb5b1461025b578063d0b7830b14610293578063dbcd72f0146102a8578063e1f1c4a7146102bb57600080fd5b80636f9fb98a146102125780637d19e5961461022557806389cb29dd1461024557600080fd5b8063012f52ee146100c757806312e8e2c31461017757806316b151351461019957806326232a2e146101bc57806339292763146101d25780634d68282f146101f2575b600080fd5b3480156100d357600080fd5b506101306100e2366004610bc5565b6000602081905290815260409020805460018201546002830154600384015460048501546005909501546001600160a01b03948516959390941693919260ff80831693610100909304169187565b604080516001600160a01b0398891681529790961660208801529486019390935290151560608501521515608084015260a083015260c082015260e0015b60405180910390f35b34801561018357600080fd5b50610197610192366004610bc5565b6102d1565b005b3480156101a557600080fd5b506101ae610391565b60405190815260200161016e565b3480156101c857600080fd5b506101ae60035481565b3480156101de57600080fd5b506101976101ed366004610bc5565b6103a6565b3480156101fe57600080fd5b5061019761020d366004610bc5565b61056e565b34801561021e57600080fd5b50476101ae565b34801561023157600080fd5b50610130610240366004610bc5565b6107bb565b34801561025157600080fd5b506101ae60015481565b34801561026757600080fd5b5060025461027b906001600160a01b031681565b6040516001600160a01b03909116815260200161016e565b34801561029f57600080fd5b50610197610883565b6101ae6102b6366004610bde565b610930565b3480156102c757600080fd5b506101ae61271081565b6002546001600160a01b031633146103045760405162461bcd60e51b81526004016102fb90610c1a565b60405180910390fd5b6103e88111156103565760405162461bcd60e51b815260206004820152601e60248201527f506c6174666f726d206665652063616e6e6f742065786365656420313025000060448201526064016102fb565b60038190556040518181527f45610d581145924dd7090a5017e5f2b1d6f42213bb2e95707ff86846bbfcb1ca9060200160405180910390a150565b6000600180546103a19190610c71565b905090565b806000811180156103b8575060015481105b6103d45760405162461bcd60e51b81526004016102fb90610c84565b60008181526020819052604090206003015460ff1615801561040d5750600081815260208190526040902060030154610100900460ff16155b6104545760405162461bcd60e51b8152602060048201526018602482015277115cd8dc9bddc8185b1c9958591e481c1c9bd8d95cdcd95960421b60448201526064016102fb565b600082815260208190526040902080546001600160a01b0316331480610486575060018101546001600160a01b031633145b6104d25760405162461bcd60e51b815260206004820152601f60248201527f4f6e6c79206275796572206f722073656c6c65722063616e20726566756e640060448201526064016102fb565b60038101805461ff001916610100179055805460028201546040516001600160a01b039092169181156108fc0291906000818181858888f19350505050158015610520573d6000803e3d6000fd5b50805460028201546040519081526001600160a01b039091169084907f80b577b4fc190ab86d963549e29f496afd079c5d81a2480d61217d4b5060a28c9060200160405180910390a3505050565b80600081118015610580575060015481105b61059c5760405162461bcd60e51b81526004016102fb90610c84565b60008181526020819052604090206003015460ff161580156105d55750600081815260208190526040902060030154610100900460ff16155b61061c5760405162461bcd60e51b8152602060048201526018602482015277115cd8dc9bddc8185b1c9958591e481c1c9bd8d95cdcd95960421b60448201526064016102fb565b600082815260208190526040902080546001600160a01b031633148061064e575060018101546001600160a01b031633145b6106a95760405162461bcd60e51b815260206004820152602660248201527f4f6e6c79206275796572206f722073656c6c65722063616e2072656c656173656044820152652066756e647360d01b60648201526084016102fb565b6003808201805460ff19166001179055546002820154600091612710916106d09190610caf565b6106da9190610cc6565b905060008183600201546106ee9190610c71565b60018401546040519192506001600160a01b03169082156108fc029083906000818181858888f1935050505015801561072b573d6000803e3d6000fd5b50811561076e576002546040516001600160a01b039091169083156108fc029084906000818181858888f1935050505015801561076c573d6000803e3d6000fd5b505b60018301546040518281526001600160a01b039091169086907f6e3c6096795c8298a218b2cfb8bde42726ff7c9a3d27b4d3ba41ab7f74feb5fb9060200160405180910390a35050505050565b600080600080600080600080881180156107d6575060015488105b6107f25760405162461bcd60e51b81526004016102fb90610c84565b50505060009485525050506020828152604092839020835160e08101855281546001600160a01b0390811680835260018401549091169382018490526002830154958201869052600383015460ff80821615156060850181905261010090920416151560808401819052600485015460a0850181905260059095015460c09094018490529197949695509390929190565b6002546001600160a01b031633146108ad5760405162461bcd60e51b81526004016102fb90610c1a565b47806108f25760405162461bcd60e51b81526020600482015260146024820152734e6f2066756e647320746f20776974686472617760601b60448201526064016102fb565b6002546040516001600160a01b039091169082156108fc029083906000818181858888f1935050505015801561092c573d6000803e3d6000fd5b5050565b60008034116109815760405162461bcd60e51b815260206004820152601d60248201527f416d6f756e74206d7573742062652067726561746572207468616e203000000060448201526064016102fb565b6001600160a01b0382166109d05760405162461bcd60e51b8152602060048201526016602482015275496e76616c69642073656c6c6572206164647265737360501b60448201526064016102fb565b336001600160a01b03831603610a345760405162461bcd60e51b815260206004820152602360248201527f427579657220616e642073656c6c65722063616e6e6f74206265207468652073604482015262616d6560e81b60648201526084016102fb565b6001805460009182610a4583610ce8565b9190505590506040518060e00160405280336001600160a01b03168152602001846001600160a01b031681526020013481526020016000151581526020016000151581526020014281526020018581525060008083815260200190815260200160002060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506040820151816002015560608201518160030160006101000a81548160ff02191690831515021790555060808201518160030160016101000a81548160ff02191690831515021790555060a0820151816004015560c08201518160050155905050336001600160a01b031684827fa96863da5e2cb895c2d739ef4b0a2bf93464d7bb3a3bf098c0af12c1b404c43a8634604051610bb49291906001600160a01b03929092168252602082015260400190565b60405180910390a490505b92915050565b600060208284031215610bd757600080fd5b5035919050565b60008060408385031215610bf157600080fd5b8235915060208301356001600160a01b0381168114610c0f57600080fd5b809150509250929050565b60208082526021908201527f4f6e6c79206f776e65722063616e2063616c6c20746869732066756e6374696f6040820152603760f91b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b81810381811115610bbf57610bbf610c5b565b602080825260119082015270125b9d985b1a5908195cd8dc9bddc81251607a1b604082015260600190565b8082028115828204841417610bbf57610bbf610c5b565b600082610ce357634e487b7160e01b600052601260045260246000fd5b500490565b600060018201610cfa57610cfa610c5b565b506001019056fea26469706673582212206f104495d3ba0c179dee08b20d515dc8e94d9b19c6e91572587395757067953564736f6c63430008130033",
  "deployedBytecode": "0x6080604052600436106100c25760003560e01c80636f9fb98a1161007f5780638da5cb5b116100595780638da5cb5b1461025b578063d0b7830b14610293578063dbcd72f0146102a8578063e1f1c4a7146102bb57600080fd5b80636f9fb98a146102125780637d19e5961461022557806389cb29dd1461024557600080fd5b8063012f52ee146100c757806312e8e2c31461017757806316b151351461019957806326232a2e146101bc57806339292763146101d25780634d68282f146101f2575b600080fd5b3480156100d357600080fd5b506101306100e2366004610bc5565b6000602081905290815260409020805460018201546002830154600384015460048501546005909501546001600160a01b03948516959390941693919260ff80831693610100909304169187565b604080516001600160a01b0398891681529790961660208801529486019390935290151560608501521515608084015260a083015260c082015260e0015b60405180910390f35b34801561018357600080fd5b50610197610192366004610bc5565b6102d1565b005b3480156101a557600080fd5b506101ae610391565b60405190815260200161016e565b3480156101c857600080fd5b506101ae60035481565b3480156101de57600080fd5b506101976101ed366004610bc5565b6103a6565b3480156101fe57600080fd5b5061019761020d366004610bc5565b61056e565b34801561021e57600080fd5b50476101ae565b34801561023157600080fd5b50610130610240366004610bc5565b6107bb565b34801561025157600080fd5b506101ae60015481565b34801561026757600080fd5b5060025461027b906001600160a01b031681565b6040516001600160a01b03909116815260200161016e565b34801561029f57600080fd5b50610197610883565b6101ae6102b6366004610bde565b610930565b3480156102c757600080fd5b506101ae61271081565b6002546001600160a01b031633146103045760405162461bcd60e51b81526004016102fb90610c1a565b60405180910390fd5b6103e88111156103565760405162461bcd60e51b815260206004820152601e60248201527f506c6174666f726d206665652063616e6e6f742065786365656420313025000060448201526064016102fb565b60038190556040518181527f45610d581145924dd7090a5017e5f2b1d6f42213bb2e95707ff86846bbfcb1ca9060200160405180910390a150565b6000600180546103a19190610c71565b905090565b806000811180156103b8575060015481105b6103d45760405162461bcd60e51b81526004016102fb90610c84565b60008181526020819052604090206003015460ff1615801561040d5750600081815260208190526040902060030154610100900460ff16155b6104545760405162461bcd60e51b8152602060048201526018602482015277115cd8dc9bddc8185b1c9958591e481c1c9bd8d95cdcd95960421b60448201526064016102fb565b600082815260208190526040902080546001600160a01b0316331480610486575060018101546001600160a01b031633145b6104d25760405162461bcd60e51b815260206004820152601f60248201527f4f6e6c79206275796572206f722073656c6c65722063616e20726566756e640060448201526064016102fb565b60038101805461ff001916610100179055805460028201546040516001600160a01b039092169181156108fc0291906000818181858888f19350505050158015610520573d6000803e3d6000fd5b50805460028201546040519081526001600160a01b039091169084907f80b577b4fc190ab86d963549e29f496afd079c5d81a2480d61217d4b5060a28c9060200160405180910390a3505050565b80600081118015610580575060015481105b61059c5760405162461bcd60e51b81526004016102fb90610c84565b60008181526020819052604090206003015460ff161580156105d55750600081815260208190526040902060030154610100900460ff16155b61061c5760405162461bcd60e51b8152602060048201526018602482015277115cd8dc9bddc8185b1c9958591e481c1c9bd8d95cdcd95960421b60448201526064016102fb565b600082815260208190526040902080546001600160a01b031633148061064e575060018101546001600160a01b031633145b6106a95760405162461bcd60e51b815260206004820152602660248201527f4f6e6c79206275796572206f722073656c6c65722063616e2072656c656173656044820152652066756e647360d01b60648201526084016102fb565b6003808201805460ff19166001179055546002820154600091612710916106d09190610caf565b6106da9190610cc6565b905060008183600201546106ee9190610c71565b60018401546040519192506001600160a01b03169082156108fc029083906000818181858888f1935050505015801561072b573d6000803e3d6000fd5b50811561076e576002546040516001600160a01b039091169083156108fc029084906000818181858888f1935050505015801561076c573d6000803e3d6000fd5b505b60018301546040518281526001600160a01b039091169086907f6e3c6096795c8298a218b2cfb8bde42726ff7c9a3d27b4d3ba41ab7f74feb5fb9060200160405180910390a35050505050565b600080600080600080600080881180156107d6575060015488105b6107f25760405162461bcd60e51b81526004016102fb90610c84565b50505060009485525050506020828152604092839020835160e08101855281546001600160a01b0390811680835260018401549091169382018490526002830154958201869052600383015460ff80821615156060850181905261010090920416151560808401819052600485015460a0850181905260059095015460c09094018490529197949695509390929190565b6002546001600160a01b031633146108ad5760405162461bcd60e51b81526004016102fb90610c1a565b47806108f25760405162461bcd60e51b81526020600482015260146024820152734e6f2066756e647320746f20776974686472617760601b60448201526064016102fb565b6002546040516001600160a01b039091169082156108fc029083906000818181858888f1935050505015801561092c573d6000803e3d6000fd5b5050565b60008034116109815760405162461bcd60e51b815260206004820152601d60248201527f416d6f756e74206d7573742062652067726561746572207468616e203000000060448201526064016102fb565b6001600160a01b0382166109d05760405162461bcd60e51b8152602060048201526016602482015275496e76616c69642073656c6c6572206164647265737360501b60448201526064016102fb565b336001600160a01b03831603610a345760405162461bcd60e51b815260206004820152602360248201527f427579657220616e642073656c6c65722063616e6e6f74206265207468652073604482015262616d6560e81b60648201526084016102fb565b6001805460009182610a4583610ce8565b9190505590506040518060e00160405280336001600160a01b03168152602001846001600160a01b031681526020013481526020016000151581526020016000151581526020014281526020018581525060008083815260200190815260200160002060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506040820151816002015560608201518160030160006101000a81548160ff02191690831515021790555060808201518160030160016101000a81548160ff02191690831515021790555060a0820151816004015560c08201518160050155905050336001600160a01b031684827fa96863da5e2cb895c2d739ef4b0a2bf93464d7bb3a3bf098c0af12c1b404c43a8634604051610bb49291906001600160a01b03929092168252602082015260400190565b60405180910390a490505b92915050565b600060208284031215610bd757600080fd5b5035919050565b60008060408385031215610bf157600080fd5b8235915060208301356001600160a01b0381168114610c0f57600080fd5b809150509250929050565b60208082526021908201527f4f6e6c79206f776e65722063616e2063616c6c20746869732066756e6374696f6040820152603760f91b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b81810381811115610bbf57610bbf610c5b565b602080825260119082015270125b9d985b1a5908195cd8dc9bddc81251607a1b604082015260600190565b8082028115828204841417610bbf57610bbf610c5b565b600082610ce357634e487b7160e01b600052601260045260246000fd5b500490565b600060018201610cfa57610cfa610c5b565b506001019056fea26469706673582212206f104495d3ba0c179dee08b20d515dc8e94d9b19c6e91572587395757067953564736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
